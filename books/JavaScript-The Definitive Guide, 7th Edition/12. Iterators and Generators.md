# Chapter 12. Iterators and Generators

## 12.1 How Iterators Work

#### javascriptì˜ iterationì„ ì´í•´í•˜ê¸° ìœ„í•œ 3ê°€ì§€ keyword

- **iterable** object:
  - iterator methodë¥¼ ê°€ì§€ëŠ” ëª¨ë“  object
  - ì£¼ë¡œ Array, Set, String ë“± data structures
  - ì§ì ‘ Class ë“±ì„ ì´ìš©í•´ì„œ iterableí•œ own objects or data structuresë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆìŒ
- **iterator** object:
  - iterator method(`Symbol.iterator`)ì˜ return ê°’
  - `next()` methodë¥¼ ê°€ì§€ëŠ” object
  - `next()`ì—ëŠ” ë‹¤ìŒ iterationì„ í• ì§€ ì•ˆí• ì§€(`done`), ë‹¤ìŒ iterationì— ì–´ë–¤ ê°’(`value`)ì„ ë„˜ê¸¸ì§€ ì •í•˜ê¸° ìœ„í•œ ë¡œì§ì´ ë‹´ê²¨ìˆìŒ
  - iterationì„ ìˆ˜í–‰í•¨
- **iteration result** object:
  - `next()`ì—ì„œ return ê°’
  - `value`ì™€ `done` propertyë¥¼ ê°€ì§„ object
  - ê° iterationì˜ ê²°ê³¼ë¬¼ë¥¼ ê°–ê³  ìˆìŒ

```javascript
// Iterable Object
class SomeCollection {
    // Iterator Method
    [Symbol.iterator]() {
        // Iterator Object
        return {
            next() {
                // Iterator Result Object
                return { value: "Any", done: "Boolean" };
            },
        };
    }
}
```

#### iterable objectë¥¼ iterateí•˜ëŠ” ì‘ë™ìˆœì„œ

1. iterable objectì˜ iterator method(`Symbol.iterator`)ë¥¼ í˜¸ì¶œí•˜ì—¬ iterator objectë¥¼ return ë°›ëŠ”ë‹¤.
2. iterator objectì˜ `next()`ë¥¼ í˜¸ì¶œí•˜ì—¬ iteration result objectë¥¼ returnë°›ëŠ”ë‹¤.
3. iteration resultì˜ `value` property ê°’ìœ¼ë¡œ í•„ìš”í•œ ì¼ì„ ìˆ˜í–‰í•œë‹¤.
4. í•„ìš”í•œ ì¼ì´ ëë‚˜ê³  iteration resultì˜ `done` propertyê°’ì´ `false`ì´ë©´ `next()`ë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•œë‹¤.
5. `done` propertyê°’ì´ `true`ê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ ë°˜ë³µì ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤.

> iterator methodëŠ” ì´ë¦„ìœ¼ë¡œ Stringì´ ì•„ë‹Œ Symbolì„ ì‚¬ìš©í•œë‹¤. `Symbol.iterator`

```javascript
let iterable = [99];

// ğŸ’¡ `for`ë¡œ `for...of` êµ¬í˜„í•˜ê¸°
let iterator = iterable[Symbol.iterator](); // 1ï¸âƒ£
for (let result = iterator.next() 2ï¸âƒ£; !result.done 3ï¸âƒ£6ï¸âƒ£; result = iterator.next()5ï¸âƒ£) {   
    console.log(result.value); // 4ï¸âƒ£
}

// ìœ„ì™€ ê°™ìŒ `for...of`
for (let x of iterable) {
    console.log(x);
}
```

#### iterable object

- `for...of`ì™€ í•¨ê»˜ ì‚¬ìš© ê°€ëŠ¥

```javascript
let sum = 0;
for (let i of [1, 2, 3]) {
    // Loop once for each of these values
    sum += i;
}
sum; // => 6
```

- `...` operatorì™€ í•¨ê»˜ ì‚¬ìš© ê°€ëŠ¥

```javascript
let chars = [..."abcd"]; // chars == ["a", "b", "c", "d"]
let data = [1, 2, 3, 4, 5];
Math.max(...data); // => 5
```

- destructuring ê°€ëŠ¥

```javascript
let purpleHaze = Uint8Array.of(255, 0, 255, 128);
let [r, g, b, a] = purpleHaze; // a == 128
```

- iterator objectì˜ ë§ì€ built-in functionsì™€ constructorsëŠ” ì‚¬ì‹¤ìƒ iteratorì™€ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§

```javascript
let m = new Map([
    ["one", 1],
    ["two", 2],
]);
[...m]; // => [["one", 1], ["two", 2]]: default iteration
[...m.entries()]; // => [["one", 1], ["two", 2]]: entries() method is the same
[...m.keys()]; // => ["one", "two"]: keys() method iterates just map keys
[...m.values()]; // => [1, 2]: values() method iterates just map values
```

#### iterator method/object

- iterator method(`Symbol.iterator`)ë¥¼ ì–´ë–¤ object ì•ˆì— ì„ ì–¸í•˜ë©´ ê·¸ objectëŠ” iterable objectê°€ ë˜ê³ , ê·¸ objectì˜ iterator methodë¥¼ í˜¸ì¶œí•˜ë©´ iterator objectê°€ returnë¨
- built-in iterable datatype(`Array`,`String` ë“±)ì˜ iterator objectëŠ” iterable objectì´ê¸°ë„ í•¨
  - ì¦‰, ê·¸ ì•ˆì— `Symbol.iterator`ê°€ ì„ ì–¸ë˜ì–´ ìˆê³  ê·¸ ìì‹ (`this` == iterator object)ì„ return -> iterable

    ```js
    [Symbol.iterator]() {
        return {
            next() {
                // ...
            },
            [Symbol.iterator]() {
                return this;
            },
        };
    }
    ```

```javascript
let list = [1, 2, 3, 4, 5];
let iter = list[Symbol.iterator]();
let head = iter.next().value; // head == 1
let tail = [...iter]; // tail == [2,3,4,5]
// ğŸ’¡ [...list]ë¿ë§Œ ì•„ë‹ˆë¼ [...iter]ë„ ê°€ëŠ¥í•˜ë‹¤.
```

## 12.2 Implementing Iterable Objects

#### Classë¥¼ iterableí•˜ê²Œ ë§Œë“¤ê¸°

1. `Symbol.iterator`ë¼ëŠ” ì´ë¦„ì˜ iterator methodë¥¼ ì¶”ê°€í•œë‹¤.
2. ê·¸ iterator methodëŠ” `next()`ë¼ëŠ” methodê°€ í¬í•¨ëœ object(iterator object)ë¥¼ returní•´ì•¼ í•œë‹¤.
3. `next()`ëŠ” `value` propertyì™€ boolean `done` propertyë¥¼ í¬í•¨í•˜ëŠ” object(iterator result object)ë¥¼ returní•´ì•¼ í•œë‹¤.

```javascript
class Range {
    constructor(from, to) {
        this.from = from;
        this.to = to;
    }

    has(x) {
        return typeof x === "number" && this.from <= x && x <= this.to;
    }

    toString() {
        return `{x | ${this.from} â‰¤ x â‰¤ ${this.to}}`;
    }

    // Make a Range iterable by returning an iterator object.
    // Note that the name of this method is a special symbol, not a string.
    [Symbol.iterator]() {
        // Each iterator instance must iterate the range independently of others.
        // So we need a state variable to track our location in the iteration.
        // We start at the first integer >= from.
        let next = Math.ceil(this.from); // This is the next value we return
        let last = this.to; // We won't return anything > this

        return {
            // This is the iterator object.
            // This next() method is what makes this an iterator object.
            // It must return an iterator result object.
            next() {
                // If we haven't returned last value yet
                // return next value and increment it
                // otherwise indicate that we're done.
                return next <= last ? { value: next++ } : { done: true };
            },

            // As a convenience, we make the iterator itself iterable.
            [Symbol.iterator]() {
                return this;
            },
        };
    }
}

for (let x of new Range(1, 10)) {
    console.log(x); // Logs numbers 1 to 10
}
[...new Range(-2, 2)]; // => [-2, -1, 0, 1, 2]
```

> `for...of` ì‘ë™ìˆœì„œ
>
> 1. `for...of`ê°€ ì‹œì‘ë˜ìë§ˆì `for...of`ëŠ” `Symbol.iterator`ë¥¼ í˜¸ì¶œ(`Symbol.iterator`ê°€ ì—†ìœ¼ë©´ ì—ëŸ¬ë°œìƒ).
> 2. ì´í›„ `for...of`ëŠ” returnë°›ì€ iterator objectë§Œì„ ëŒ€ìƒìœ¼ë¡œ ë™ì‘
> 3. `for...of`ì— ë‹¤ìŒ ê°’ì´ í•„ìš”í•˜ë©´, iterator objectì˜ `next()`ë¥¼ í˜¸ì¶œ
> 4. `next()`ì˜ return object(iteration result object)ì˜ `done` == `true`ì´ë©´ ë°˜ë³µì¢…ë£Œ, `done` == `false`ì´ë©´ `value`ì— ë‹¤ìŒ ê°’ì„ ì €ì¥í•˜ì—¬ ë‹¤ìŒ iterationìœ¼ë¡œ ë„˜ê¹€
>
> --- [Javascript.info](https://javascript.info/iterable)

#### map()ê³¼ filter() êµ¬í˜„í•˜ê¸°

- iterable objectì„ ë°›ì•„ ê·¸ ì•ˆì— iterator methodë¥¼ í˜¸ì¶œí•˜ê³  ê·¸ ì•ˆì— iterator objectë¥¼ ê°€ì ¸ì™€ ì´ë¥¼ ì´ìš©í•´ ìƒˆë¡œìš´ iterator objectë¥¼ returní•¨

```javascript
// Return an iterable object that iterates the result of applying f()to each value from the source iterable
function map(iterable, f) {
    let iterator /*2ï¸âƒ£*/ = iterable[Symbol.iterator](); /*1ï¸âƒ£*/
    /*3ï¸âƒ£*/
    return {
        // This object is both iterator and iterable
        [Symbol.iterator]() {
            /*4ï¸âƒ£*/
            return this;
        },

        next() {
            /*5ï¸âƒ£*/ /* 5ï¸âƒ£ ~ 6ï¸âƒ£ ë°˜ë³µ */
            let v = iterator.next();
            if (v.done) {
                return v;
            } else {
                return {
                    value: f(v.value) /*6ï¸âƒ£*/,
                };
            }
        },
    };
}

const range1to4 = new Range(1, 4);
const mapResult = [...map(range1to4, /*6ï¸âƒ£*/ (x) => x * x)]; // => [1, 4, 9, 16]
```

> 1ï¸âƒ£ ~ 2ï¸âƒ£ `Range(1, 4)[Symbol.iterator]` í˜¸ì¶œí•˜ì—¬ Rangeì˜ iterator objectë¥¼ returnë°›ì•„ `iterator` ë³€ìˆ˜ì— ì €ì¥
>
> 3ï¸âƒ£ `iterator`ë³€ìˆ˜ê°€ í¬í•¨ëœ `map`ì˜ iterator objectë¥¼ returní•¨
>
> â“4ï¸âƒ£ `map[Symbol.iterator]`ë¥¼ í˜¸ì¶œí•˜ì—¬ `map`ì˜ iterator object(`this`)ë¥¼ returní•˜ë©° `map`ì˜ `next()` í˜¸ì¶œ
>
> 5ï¸âƒ£ `map`ì˜ `next()`ì—ì„œ `Range`ì˜ `next()`ë¥¼ í˜¸ì¶œí•˜ì—¬ ê²°ì •ëœ returnê°’(iterator result object)ì„ `v`ë³€ìˆ˜ì— ì €ì¥
>
> 6ï¸âƒ£ `v`ë¥¼ ì´ìš©í•˜ì—¬ doneì¸ì§€ í™•ì¸í•˜ê³  ì•„ë‹ˆë©´ `f`ë¡œ `v.value` ë„˜ê²¨ returnê°’ ê²°ì •
>
> ë‹¤ì‹œ 5ï¸âƒ£ ~ 6ï¸âƒ£ ë°˜ë³µ. `v.done`ì´ `true`ì´ë©´ ì¢…ë£Œ

> iterate = `next()`ë¥¼ ë°˜ë³µ í˜¸ì¶œí•œë‹¤.

```javascript
// Return an iterable object that filters the specified iterable, iterating only those elements for which the predicate returns true
function filter(iterable, predicate) {
    let iterator = iterable[Symbol.iterator]();

    return {
        [Symbol.iterator]() {
            return this;
        },

        next() {
            for (;;) {
                let v = iterator.next();
                if (v.done || predicate(v.value)) {
                    return v;
                }
            }
        },
    };
}

[...filter(new Range(1, 10), (x) => x % 2 === 0)]; // => [2,4,6,8,10]
```

#### iteratorë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ ì  : Lazy Evaluation

- Lazy evaluation : delaying the evaluation of an expression until it's needed
- ì „ì²´ ê³„ì‚° ëŒ€ìƒ ì¤‘ í˜„ì¬ ê³„ì‚°ì— í•„ìš”í•œ ê°’ë§Œ ë¶ˆëŸ¬ì™€ì„œ(ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ì„œ) ê³„ì‚° í•¨
- ì˜ˆë¥¼ ë“¤ì–´, ë§¤ìš° ê¸´ í…ìŠ¤íŠ¸ë¥¼ ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ ì„œ ë°°ì—´ë¡œ ë°˜í™˜í•´ì•¼ í•œë‹¤ê³  í•  ë•Œ
  - `split()`ì„ ì‚¬ìš©í•œë‹¤ë©´ ë¨¼ì € ì „ì²´ í…ìŠ¤íŠ¸ë¥¼ ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ ë†“ì•„ì•¼ í•˜ê³  ì²˜ë¦¬ í›„ ë°˜í™˜í•  ë°°ì—´ì„ ìœ„í•œ ë©”ëª¨ë¦¬ë„ í•„ìš”í•¨
  - í•˜ì§€ë§Œ iteratorë¥¼ ì´ìš©í•˜ë©´ ì „ì²´ í…ìŠ¤íŠ¸ë¥¼ í•œë²ˆì— ë¶ˆëŸ¬ì˜¤ì§€ ì•Šê³  í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸ ìŠ¤íŠ¸ë§ì„ ìœ„í•œ ë©”ëª¨ë¦¬ë§Œ ìˆì–´ë„ ë¨

```javascript
function words(s) {
    var r = /\s+|$/g; // í•˜ë‚˜ ì´ìƒì˜ ê³µë°±ì´ë‚˜ ìŠ¤íŠ¸ë§ì˜ ë
    r.lastIndex = s.match(/[^ ]/).index; // ê³µë°±ì´ ì•„ë‹Œ ì²«ë²ˆì§¸ ìœ„ì¹˜(ì‹œì‘ìœ„ì¹˜)
    return {
        // Return an iterable iterator object
        [Symbol.iterator]() {
            // This makes us iterable
            return this;
        },
        next() {
            // This makes us an iterator
            let start = r.lastIndex; // Resume where the last match ended
            if (start < s.length) {
                // If we're not done
                let match = r.exec(s); // Match the next word boundary
                if (match) {
                    // If we found one, return the word
                    return { value: s.substring(start, match.index) };
                }
            }
            return { done: true }; // Otherwise, say that we're done
        },
    };
}
[...words(" abc def ghi! ")]; // => ["abc", "def", "ghi!"]
```

### 12.2.1 â€œClosingâ€ an Iterator: The Return Method

- `next()`ê°€ `done` property ê°’ì´ `done`ì¸ iteration resultë¥¼ returní•˜ê¸° ì „ì— iterationì´ ë©ˆì¶”ë©´, interpreterëŠ” iterator objectê°€ `return()` methodë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•¨
- `return` methodê°€ ì¡´ì¬í•˜ë©´ ê·¸ ê²ƒì„ ë¶ˆëŸ¬ì™€ arguments ì—†ì´ ì‹¤í–‰í•¨
- `return` methodëŠ” ë°˜ë“œì‹œ iterator resultë¥¼ returní•´ì•¼í•¨
  - iterator resultì˜ propertyë“¤ì€ ë¬´ì‹œë˜ì§€ë§Œ ì´ë¥¼ returní•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë‚¨

## 12.3 Generators

- APIsë¥¼ ë§Œë“¤ ë•Œ iteratorsë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ë§Œ iterable objects, iterator object, iterator resultë¥¼ ì´ìš©í•´ ì¼ë ¨ì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì€ ë‹¤ì†Œ ë³µì¡ -> generatorsëŠ” ì´ë¥¼ ê°„ë‹¨í•˜ê²Œ í•´ì¤Œ. iteratorsì˜ ì¼ì¢…
- íŠ¹íˆ ë°˜ë³µí•˜ë ¤ëŠ” ê°’ë“¤ì´ ì–´ë–¤ ë°ì´í„°êµ¬ì¡°ì˜ ìš”ì†Œë“¤ì´ ì•„ë‹ˆë¼ ì–´ë–¤ ê³„ì‚°ì˜ ê²°ê³¼ê°’ì´ë©´ ë” ìœ ìš©
- `function`ê³¼ function ì´ë¦„ ì‚¬ì´ì— `*`ë¥¼ ë„£ìŒ
- generator functionì„ ì‹¤í–‰í•˜ë©´ function bodyë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ generator object(= yielded valueë¥¼ ë°˜ë³µí•˜ëŠ” iterator object)ë¥¼ return í•¨
- generator objectì˜ `next()` methodë¥¼ í˜¸ì¶œí•˜ë©´ ë¹„ë¡œì†Œ generator functionì˜ bodyê°€ ì‹¤í–‰ë˜ê³  `yield` statementë¥¼ ë§Œë‚˜ë©´ ê·¸ ê°’ì„ returní•˜ê³  ê±°ê¸°ì„œ ë©ˆì¶¤. ë‹¤ì‹œ `next()` methodê°€ í˜¸ì¶œë˜ë©´ ê±°ê¸°ë¶€í„° ë‹¤ìŒ `yield`ê¹Œì§€ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ê·¸ `yield`ê°’ì„ return í›„ ê±°ê¸°ì„œ ë©ˆì¶¤. ê·¸ë ‡ê²Œ generator functionì˜ bodyê°€ ëë‚ ë•Œê¹Œì§€ ì§„í–‰

    ```javascript
    // í•œìë¦¬ ì†Œìˆ˜ë“¤ì„ yieldí•˜ëŠ” A generator function
    function* oneDigitPrimes() {
        yield 2;
        yield 3;
        yield 5;
        yield 7;
    }

    let primes = oneDigitPrimes();

    primes.next(); // {value: 2, done: false}
    primes.next(); // {value: 3, done: false}
    primes.next(); // {value: 5, done: false}
    primes.next(); // {value: 7, done: false}
    primes.next(); // {value: undefined, done: true}
    primes.next(); // {value: undefined, done: true}

    // generatorsëŠ” ìì‹ ì„ iterableí•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ Symbol.iterator methodë¥¼ ê°€ì§€ê³  ìˆìŒ
    primes[Symbol.iterator](); // primes

    // generatorsëŠ” ë‹¤ë¥¸ iterableì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
    [...oneDigitPrimes()]; // [2, 3, 5, 7]

    let sum = 0;
    for (let prime of oneDigitPrimes()) sum += prime;
    sum; // 17
    ```

- regular functionë¿ë§Œ ì•„ë‹ˆë¼ expression formìœ¼ë¡œë„ ì‚¬ìš© ê°€ëŠ¥

    ```javascript
    const seq = function* (from, to) {
        for (let i = from; i <= to; i++) yield i;
    };
    [...seq(3, 5)]; // [3, 4, 5]
    ```

- classë‚˜ object literalì—ì„œëŠ” function keywordë¥¼ ìƒëµí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŒ

    ```javascript
    let o = {
        x: 1,
        y: 2,
        z: 3,
        *g() {
            for (let key of Object.keys(this)) yield key;
        },
    };
    [...o.g()]; //  ['x', 'y', 'z', 'g']
    ```

- iterable classë¥¼ ë§Œë“¤ ë•Œë„ ì‚¬ìš©í•˜ë©´ í¸í•¨

    ```javascript
    *[Symbol.iterator]() {
        for(let i = Math.ceil(this.from); i <= this.to; i++)  return i
    }

    // [Symbol.iterator]() {
    //   let next = Math.ceil(this.from);
    //   let last = this.to;

    //   return {
    //       next() {
    //           return next <= last ? { value: next++ } : { done: true };
    //       },

    //       [Symbol.iterator]() {
    //           return this;
    //       },
    //   };
    // }
    ```

### 12.3.1 Generator Examples

- generatorsëŠ” yield ê°’ì„ ê³„ì‚°í•˜ì—¬ ë§Œë“¤ì–´ë‚´ëŠ” ê²½ìš° ë”ìš± ìœ ìš©í•¨

    ```javascript
    // fibonacci infinite loop
    function* fibonacciSequence() {
        let x = 0,
            y = 1;
        // = while(true) = infinite loop
        for (;;) {
            yield y;
            // const newX = y
            // const newY = x + y
            // x = newX
            // y = newY
            [x, y] = [y, x + y]; // Note: destructuring assignment
        }
    }
    ```

- ìœ„ì™€ ê°™ì€ infinite loopëŠ” ê·¸ëƒ¥ `...`ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬´í•œíˆ ëŒì•„ê°€ë¯€ë¡œ `for/of` ë‚˜ `take()`ì™€ í•¨ê»˜ ì“°ì„

    ```javascript
    // Returning the nth Fibonacci number
    function fibonacci(n) {
        for (let f of fibonacciSequence()) {
            if (n-- <= 0) return f;
        }
    }

    fibonacci(20); // => 10946

    // Yield the first n elements of the specified iterable object
    function* take(n, iterable) {
        let it = iterable[Symbol.iterator]();

        while (n-- > 0) {
            let next = it.next();

            if (next.done) return;
            else yield next.value;
        }
        // while (n > 0) {
        //     yield it.next().value;
        //     n--;
        // }
    }

    [...take(5, fibonacciSequence())]; // [1, 1, 2, 3, 5]
    ```

- ì—¬ëŸ¬ iterable objectë“¤ì˜ elementë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ì„ì–´ì„œ returní•˜ê¸°

    ```javascript
    // Given an array of iterables, yield their elements in interleaved(ë¼ì›Œë„£ë‹¤) order
    function* zip(...iterables) {
        // Get an iterator for each iterable
        let iterators = iterables.map((i) => i[Symbol.iterator]());
        let index = 0;

        while (iterators.length > 0) {
            // If we reached the last iterator, go back to the first one
            if (index >= iterators.length) index = 0;

            let item = iterators[index].next();

            // If that iterator is done, then remove it from the array
            // Array.splice(êµì²´ì‹œì‘index, êµì²´ì‹œì‘indexë¶€í„° ì§€ìš¸ element ê°œìˆ˜)
            if (item.done) {
                iterators.splice(index, 1);
            } else {
                yield item.value;
                index++;
            }
        }
    }

    [...zip(oneDigitPrimes(), "ab", [0])]; //  [2, 'a', 0, 3, 'b', 5, 7]
    ```

### 12.3.2 yield\* and Recursive Generators

- ì—¬ëŸ¬ iterable objectë“¤ì˜ elementë“¤ì„ ê·¸ëƒ¥ ìˆœì°¨ì ìœ¼ë¡œ return í•˜ê¸°

    ```javascript
    function* sequence(...iterables) {
        for (let iterable of iterables) {
            for (let item of iterable) {
                yield item;
            }
        }
    }
    [...sequence("abc", oneDigitPrimes())]; // ['a', 'b', 'c', 2, 3, 5, 7]
    ```

- ì–´ë–¤ iterable objectì˜ generator functionì—ì„œ ë‹¤ë¥¸ iterable objectì˜ elementë¥¼ yieldí•˜ëŠ” ê²ƒì€ ìì£¼ ì“°ì´ê¸° ë•Œë¬¸ì— ë”°ë¡œ ë¬¸ë²•ì´ ìˆìŒ -> `yield*`
- í•˜ë‚˜ì˜ ê°’ì„ yieldí•˜ëŠ” `yield`ì™€ ë‹¬ë¦¬, `yield*`ëŠ” iterable objectë¥¼ iterateí•´ì„œ ê° ê²°ê³¼ê°’ì„ yieldí•¨

    ```javascript
    function* sequenceV2(...iterables) {
        for (let iterable of iterables) {
            yield* iterable;
        }
    }

    [...sequenceV2("abc", oneDigitPrimes())]; // ['a', 'b', 'c', 2, 3, 5, 7]
    ```

- `yield`ì™€ `yield*`ëŠ” generator function ì•ˆì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

    ```javascript
    // Error
    function* sequenceV3(...iterables) {
        iterables.forEach((iterable) => yield * iterable);
    }
    ```

## 12.4 Advanced Generator Features
